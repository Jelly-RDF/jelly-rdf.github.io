
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jelly is a high-performance RDF streaming protocol">
      
      
      
        <link rel="canonical" href="https://jelly-rdf.github.io/dev/user-guide/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../performance/">
      
      
      <link rel="icon" href="../assets/jelly_color.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>User guide - Jelly</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    
    
        
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Jelly – User guide" />
    <meta property="og:description" content="Jelly is a high-performance RDF streaming protocol" />
    <meta property="og:image" content="https://w3id.org/jelly/dev/assets/social.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#jelly-user-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Jelly" class="md-header__button md-logo" aria-label="Jelly" data-md-component="logo">
      
  <img src="../assets/jelly_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jelly
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.04 7 9.54s-2.94 8.27-7 9.54c.95.3 1.95.46 3 .46a10 10 0 0 0 10-10A10 10 0 0 0 9 2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Jelly-RDF/jelly-rdf.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Jelly-RDF/jelly-rdf.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Jelly" class="md-nav__button md-logo" aria-label="Jelly" data-md-component="logo">
      
  <img src="../assets/jelly_white.png" alt="logo">

    </a>
    Jelly
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Jelly-RDF/jelly-rdf.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Jelly-RDF/jelly-rdf.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    User guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    User guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-can-it-do" class="md-nav__link">
    <span class="md-ellipsis">
      What can it do?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use it?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stream-types" class="md-nav__link">
    <span class="md-ellipsis">
      Stream types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-patterns-cookbook" class="md-nav__link">
    <span class="md-ellipsis">
      Common patterns cookbook
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common patterns cookbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flat-rdf-triple-stream-just-a-bunch-of-triples" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF triple stream – "just a bunch of triples"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-graph-stream" class="md-nav__link">
    <span class="md-ellipsis">
      RDF graph stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-rdf-quad-stream-just-a-bunch-of-quads" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF quad stream – "just a bunch of quads"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-rdf-quad-stream-as-graphs" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF quad stream (as GRAPHS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-dataset-stream-as-quads" class="md-nav__link">
    <span class="md-ellipsis">
      RDF dataset stream (as QUADS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-dataset-stream-as-graphs" class="md-nav__link">
    <span class="md-ellipsis">
      RDF dataset stream (as GRAPHS)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ordering-and-delivery-guarantees" class="md-nav__link">
    <span class="md-ellipsis">
      Ordering and delivery guarantees
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delimited-vs-non-delimited-jelly" class="md-nav__link">
    <span class="md-ellipsis">
      Delimited vs. non-delimited Jelly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delimited vs. non-delimited Jelly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-jelly" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Jelly
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../specification/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Protocol specification
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Protocol specification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../specification/serialization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serialization format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../specification/streaming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC streaming protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../specification/reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protobuf reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../specification/protobuf-source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protobuf source
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../specification/media-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File extension and media type
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://w3id.org/jelly/jelly-jvm/dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JVM (Scala) implementation ⮺
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use cases
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../licensing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licensing and citation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-can-it-do" class="md-nav__link">
    <span class="md-ellipsis">
      What can it do?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use it?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stream-types" class="md-nav__link">
    <span class="md-ellipsis">
      Stream types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-patterns-cookbook" class="md-nav__link">
    <span class="md-ellipsis">
      Common patterns cookbook
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common patterns cookbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flat-rdf-triple-stream-just-a-bunch-of-triples" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF triple stream – "just a bunch of triples"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-graph-stream" class="md-nav__link">
    <span class="md-ellipsis">
      RDF graph stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-rdf-quad-stream-just-a-bunch-of-quads" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF quad stream – "just a bunch of quads"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flat-rdf-quad-stream-as-graphs" class="md-nav__link">
    <span class="md-ellipsis">
      Flat RDF quad stream (as GRAPHS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-dataset-stream-as-quads" class="md-nav__link">
    <span class="md-ellipsis">
      RDF dataset stream (as QUADS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdf-dataset-stream-as-graphs" class="md-nav__link">
    <span class="md-ellipsis">
      RDF dataset stream (as GRAPHS)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ordering-and-delivery-guarantees" class="md-nav__link">
    <span class="md-ellipsis">
      Ordering and delivery guarantees
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delimited-vs-non-delimited-jelly" class="md-nav__link">
    <span class="md-ellipsis">
      Delimited vs. non-delimited Jelly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delimited vs. non-delimited Jelly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-jelly" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Jelly
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/Jelly-RDF/jelly-rdf.github.io/edit/main/docs/user-guide.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="jelly-user-guide">Jelly user guide</h1>
<p><strong>Jelly is a high-performance protocol for streaming and non-streaming RDF data. It is designed to be simple, fast, and easy to implement. This guide will help you get started with Jelly.</strong></p>
<p>Jelly uses <a href="https://protobuf.dev/programming-guides/proto3/">Protocol Buffers 3</a> as the basis of its serialization. This means that you can quickly <a href="#implementing-jelly">create a new Jelly implementation using code generation</a>. You can also use an existing implementation, such as the <a href="https://w3id.org/jelly/jelly-jvm/dev/">JVM (Scala) implementation</a>.</p>
<h2 id="what-can-it-do">What can it do?</h2>
<p>Jelly is designed to be a protocol for <em>streaming</em> RDF data, but it can also be used with "classic", static RDF data. The main design goals of Jelly are speed, simplicity, and wide coverage of use cases. </p>
<ul>
<li>Jelly can work with <strong>any RDF data</strong>, including RDF-star, RDF 1.1, and generalized RDF.</li>
<li>Jelly can be used to represent <strong>streams of triples, quads, graphs, or datasets</strong>.</li>
<li>Jelly can also be used to represent a <strong>single graph or dataset</strong>.</li>
<li>Jelly can be used for <strong>streaming data over the network</strong> (e.g., with MQTT, Kafka, gRPC), but also for <strong>working with flat files</strong>.</li>
<li>Jelly can <strong>compress RDF data on the fly</strong>, without having to know the data in advance.</li>
<li>Jelly is super-fast and lightweight, scaling both down to <strong>embedded devices</strong> and up to <strong>high-performance servers</strong>.</li>
</ul>
<h2 id="how-to-use-it">How to use it?</h2>
<p>To use Jelly you firstly need an implementation of the protocol. There is currently one implementation available: <strong><a href="https://w3id.org/jelly/jelly-jvm/dev/">Jelly-JVM (Scala)</a></strong>, which supports both <a href="https://jena.apache.org/">Apache Jena</a> and <a href="https://rdf4j.org/">Eclipse RDF4J</a>. It also has support for reactive streams and gRPC.</p>
<p>The implementation will support several stream types and patterns that you can use. Which stream type you choose depends on your use case (see <a href="#stream-types">stream types</a> below).</p>
<p>All stream types use the same concept of <strong>stream frames</strong> – discrete elements into which the stream is divided. Each frame contains a number of <strong>rows</strong>, which are the actual RDF data (RDF triples, quads, etc.). Jelly does not enforce the semantics of stream frames, although it does have a mechanism to suggest to consumers and producers how should they understand the stream. Still, you can interpret the stream however you like.</p>
<div class="admonition question">
<p class="admonition-title">Why doesn't Jelly enforce the semantics of stream frames?</p>
<p>There are many, many ways in which streams of RDF data can be used – there are different use cases, network protocols, QoS settings, ordering guarantees, stream semantics, etc. One stream is also often viewed from different perspectives by the different actors producing and consuming it. Picking and enforcing specific semantics for stream frames would hopelessly overcomplicate the protocol and make it less useful in some use cases.</p>
<p>Jelly does have a system of <strong>logical stream types</strong> based on the RDF Stream Taxonomy (<a href="https://w3id.org/stax">RDF-STaX</a>), which can be used to suggest how the stream should be interpreted. However, these are just suggestions – you can interpret the stream however you like.</p>
</div>
<h3 id="stream-types">Stream types</h3>
<p>Jelly has the notions of <strong>physical stream types</strong> and <strong>logical stream types</strong>. The physical type tells you how Jelly sends the data on the wire, which is a technical detail. The logical type tells you how you should interpret the stream. Specifying the logical type is optional and is only a suggestion to the consumer. You can <strong>always</strong> interpret the stream however you like.</p>
<p>There are three physical stream types in Jelly:</p>
<ul>
<li><strong><code>TRIPLES</code></strong>: Data is encoded using triple statements. There is no information about the graph name in this type of stream.</li>
<li><strong><code>QUADS</code></strong>: Data is encoded using quad statements. Each quad has a graph name, which can also be empty for the default graph.</li>
<li><strong><code>GRAPHS</code></strong>: Data is encoded using named graphs, where the graph name can also be empty for the default graph. Each named graph can contain multiple triples.</li>
</ul>
<p>As for logical stream types, they are taken directly from <a href="https://w3id.org/stax/1.1.2/taxonomy">RDF-STaX</a> – see the RDF-STaX website for a complete list of them. The following table summarizes which physical stream types may be used for each logical stream type. Please note that the table covers only the cases that are directly supported by the <a href="../specification/">Jelly protocol specification</a> and its official implementations.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">RDF-STaX (logical type) / Physical type</th>
<th style="text-align: center;"><code>TRIPLES</code></th>
<th style="text-align: center;"><code>QUADS</code></th>
<th style="text-align: center;"><code>GRAPHS</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-graph-stream">Graph stream</a></td>
<td style="text-align: center;">Framed</td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">✘</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-subject-graph-stream">Subject graph stream</a></td>
<td style="text-align: center;">Framed</td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">✘</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-dataset-stream">Dataset stream</a></td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">Framed</td>
<td style="text-align: center;">Framed</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-named-graph-stream">Named graph stream</a></td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">Framed</td>
<td style="text-align: center;">Framed</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#timestamped-rdf-named-graph-stream">Timestamped named graph stream</a></td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">Framed</td>
<td style="text-align: center;">Framed</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-triple-stream">Flat triple stream</a></td>
<td style="text-align: center;">Continuous</td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">✘</td>
</tr>
<tr>
<td style="text-align: left;"><a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-quad-stream">Flat quad stream</a></td>
<td style="text-align: center;">✘</td>
<td style="text-align: center;">Continuous</td>
<td style="text-align: center;">Continuous</td>
</tr>
</tbody>
</table>
<p>The values in the table mean the following:</p>
<ul>
<li><strong>Framed</strong>: Each stream frame corresponds to exactly one logical element of the stream type. For example, in a graph stream, each frame corresponds to a single RDF graph. This usage pattern is common in real-time streaming scenarios like IoT systems.</li>
<li><strong>Continuous</strong>: The stream is a continuous sequence of logical elements. For example, in a flat triple stream, the stream is just a sequence of triples.</li>
<li><strong>✘</strong>: The physical stream type is not directly supported for the logical stream type. However, you may still find a way to use it, depending on your use case.</li>
</ul>
<p>The flat logical stream types (<a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-triple-stream">flat RDF triple stream</a> and <a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-quad-stream">flat RDF quad stream</a> in RDF-STaX) can also be treated as a single RDF graph or RDF dataset, respectively.</p>
<h3 id="common-patterns-cookbook">Common patterns cookbook</h3>
<p>Below you will find some common patterns for using Jelly. These are just examples – you can use Jelly in many other ways. All of the presented patterns are supported in the <a href="https://w3id.org/jelly/jelly-jvm/dev/user/reactive">Jelly-JVM (Scala) implementation</a> with the Reactive Streaming module.</p>
<h4 id="flat-rdf-triple-stream-just-a-bunch-of-triples">Flat RDF triple stream – "just a bunch of triples"</h4>
<p>Let's say you want to stream a lot of triples from A to B – maybe you're doing some kind of data migration, or you're sending data to a data lake. You don't care about the graph they belong to – you just want to send a bunch of triples.</p>
<p>This means you are using logically a <a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-triple-stream">flat RDF triple stream</a>. It can be physically encoded as as <code>TRIPLES</code> stream, batching the triples into frames of an arbitrary size (let's say, 1000 triples each):</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Triple 1</li>
<li>Triple 2</li>
<li>...</li>
<li>Triple 1000</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Triple 1001</li>
<li>Triple 1002</li>
<li>...</li>
<li>Triple 2000</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>You can then send these frames one-by-one over gRPC or Kafka, or write them to a file. The consumer will be able to read the triples one frame at a time, without having to know how many triples there are in total.</p>
<h4 id="rdf-graph-stream">RDF graph stream</h4>
<p>In this case we have (for example) an IoT sensor that periodically emits an RDF graph that describes what the sensor saw (something like <a href="https://www.w3.org/TR/vocab-ssn/">SOSA/SSN</a>). The graphs may be of different sizes (depending on what the sensor saw) and they can be emitted at different rates (depending on how often the sensor is triggered). We want to stream these graphs to a server that will process them in real-time with no additional latency.</p>
<p>This means you are using logically an <a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-graph-stream">RDF graph stream</a>. You can encode it as a <code>TRIPLES</code> stream, where the stream frames correspond to different unnamed (default) graphs:</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Triple 1 (of graph 1)</li>
<li>Triple 2 (of graph 1)</li>
<li>...</li>
<li>Triple 134 (of graph 1)</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Triple 1 (of graph 2)</li>
<li>Triple 2 (of graph 2)</li>
<li>...</li>
<li>Triple 97 (of graph 2)</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>The consumer will be able to read the graphs one frame at a time, without having to know how many graphs there are in total.</p>
<p><a href="http://w3id.org/riverbench">RiverBench</a> uses this pattern for distributing its triple streams (see <a href="https://w3id.org/riverbench/datasets/lod-katrina/dev">example</a>). Note that in RiverBench the stream may be equivalently considered "just a bunch of triples" – the serialization is the same, it only depends on the interpretation on the side of the consumer.</p>
<h4 id="flat-rdf-quad-stream-just-a-bunch-of-quads">Flat RDF quad stream – "just a bunch of quads"</h4>
<p>You want to stream a lot of quads – similar to the "just a bunch of triples" case above, but you also want to include the graph node. This is logically a <a href="https://w3id.org/stax/1.1.2/taxonomy#flat-rdf-quad-stream">flat RDF quad stream</a>. It can be physically encoded as a <code>QUADS</code> stream, batching the quads into frames of an arbitrary size (let's say, 1000 quads each):</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Quad 1</li>
<li>Quad 2</li>
<li>...</li>
<li>Quad 1000</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Quad 1001</li>
<li>Quad 1002</li>
<li>...</li>
<li>Quad 2000</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>The mechanism is exactly the same as with a flat RDF triple stream.</p>
<h4 id="flat-rdf-quad-stream-as-graphs">Flat RDF quad stream (as <code>GRAPHS</code>)</h4>
<p>This a slightly different take on the problem of "just a bunch of quads" – you also want to transmit what is essentially a single RDF dataset, but instead of sending individual quads, you want to send it graph-by-graph. This makes most sense if your data changes on a per-graph basis, or you are streaming a static RDF dataset.</p>
<p>This is logically again a flat RDF quad stream, but it can be physically encoded as a <code>GRAPHS</code> stream, batching the triples in the graphs into frames of an arbitrary size (let's say, 1000 triples each):</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Start graph (named 1)</li>
<li>Triple 1 (of graph 1)</li>
<li>Triple 2 (of graph 1)</li>
<li>...</li>
<li>Triple 134 (of graph 1)</li>
<li>End graph</li>
<li>Start graph (named 2)</li>
<li>Triple 1 (of graph 2)</li>
<li>Triple 2 (of graph 2)</li>
<li>...</li>
<li>Triple 97 (of graph 2)</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Triple 98 (of graph 2)</li>
<li>...</li>
<li>Triple 130 (of graph 2)</li>
<li>End graph</li>
<li>Start graph (named 3)</li>
<li>Triple 1 (of graph 3)</li>
<li>Triple 2 (of graph 3)</li>
<li>...</li>
<li>Triple 77 (of graph 3)</li>
<li>End graph</li>
<li>Start graph (named 4)</li>
<li>Triple 1 (of graph 4)</li>
<li>Triple 2 (of graph 4)</li>
<li>...</li>
<li>Triple 21 (of graph 4)</li>
<li>End graph</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>Notice that one named graph can span multiple stream frames, and one stream frame can contain multiple graphs. The consumer will be able to read the graphs one frame at a time, without having to know how many graphs there are in total.</p>
<h4 id="rdf-dataset-stream-as-quads">RDF dataset stream (as <code>QUADS</code>)</h4>
<p>You want to stream RDF datasets – similar to the "a stream of graphs" case above, but your elements are entire datasets. This is logically an <a href="https://w3id.org/stax/1.1.2/taxonomy#rdf-dataset-stream">RDF dataset stream</a>, which can be physically encoded as a <code>QUADS</code> stream, where the stream frames correspond to different datasets:</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Quad 1 (of dataset 1)</li>
<li>Quad 2 (of dataset 1)</li>
<li>...</li>
<li>Quad 454 (of dataset 1)</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Quad 1 (of dataset 2)</li>
<li>Quad 2 (of dataset 2)</li>
<li>...</li>
<li>Quad 323 (of dataset 2)</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>The mechanism is exactly the same as with a triple stream of graphs.</p>
<p><a href="http://w3id.org/riverbench">RiverBench</a> uses this pattern for distributing its RDF dataset streams (see <a href="https://w3id.org/riverbench/datasets/nanopubs/dev">example</a>). Note that in RiverBench the stream may be equivalently considered a flat RDF quad stream – the serialization is the same, it only depends on the interpretation on the side of the consumer.</p>
<h4 id="rdf-dataset-stream-as-graphs">RDF dataset stream (as <code>GRAPHS</code>)</h4>
<p>You want to stream RDF datasets or a subclass of them – for example <a href="https://w3id.org/stax/1.1.2/taxonomy#timestamped-rdf-named-graph-stream">timestamped named graphs</a>, using the <a href="https://streamreasoning.org/RSP-QL/Abstract%20Syntax%20and%20Semantics%20Document/">RSP Data Model</a>, where each stream element is a named graph and a bunch of statements about this graph in the default graph. This can be physically encoded as a <code>GRAPHS</code> stream, where the stream frames correspond to different datasets:</p>
<details class="example">
<summary>Example (click to expand)</summary>
<ul>
<li>Stream frame 1<ul>
<li>Stream options</li>
<li>Start graph (default)</li>
<li>Triple 1 (of default graph, dataset 1)</li>
<li>Triple 2 (of default graph, dataset 1)</li>
<li>...</li>
<li>Triple 134 (of default graph, dataset 1)</li>
<li>End graph</li>
<li>Start graph (named)</li>
<li>Triple 1 (of named graph, dataset 1)</li>
<li>Triple 2 (of named graph, dataset 1)</li>
<li>...</li>
<li>Triple 97 (of named graph, dataset 1)</li>
<li>End graph</li>
</ul>
</li>
<li>Stream frame 2<ul>
<li>Start graph (default)</li>
<li>Triple 1 (of default graph, dataset 2)</li>
<li>Triple 2 (of default graph, dataset 2)</li>
<li>...</li>
<li>Triple 77 (of default graph, dataset 2)</li>
<li>End graph</li>
<li>Start graph (named)</li>
<li>Triple 1 (of named graph, dataset 2)</li>
<li>Triple 2 (of named graph, dataset 2)</li>
<li>...</li>
<li>Triple 21 (of named graph, dataset 2)</li>
<li>End graph</li>
</ul>
</li>
<li>...</li>
</ul>
</details>
<p>Of course each stream frame could contain more than one named graph, and the graphs can be of different sizes.</p>
<h2 id="ordering-and-delivery-guarantees">Ordering and delivery guarantees</h2>
<p>To be able to compress RDF streams on-the-fly, Jelly requires that stream frames are kept strictly in order (see also <a href="../specification/serialization/#ordering">the spec</a>). This is because the compression algorithm updates its lookup tables dynamically over the course of the stream, and a given frame depends on the lookups defined in previous frames. If the frames are out of order, the compression may fail.</p>
<p>There are use cases where it's hard to guarantee strict ordering of messages, such as IoT messaging (e.g., MQTT with QoS 0) or high-throughput streams with parallel partitions (e.g., Kafka). In these cases you may want to employ one of these strategies:</p>
<ul>
<li><strong>Emit shared lookup tables at the start of the stream</strong>: If you know the vocabulary of the stream, you can emit most of the content of the lookup tables at the start of the stream, and then only update the lookup elements that vary frame-to-frame, keeping the updates local to the frame. This strategy is especially useful in IoT scenarios, where the vocabulary is usually known in advance. You don't need to modify the consumer in this case.<ul>
<li>A variation of this strategy is to communicate the lookup tables over a separate channel before starting the stream. This is useful if you can't guarantee that the lookup tables will be delivered before the stream frames.</li>
</ul>
</li>
<li><strong>Use a "frame ID" to keep track of the order</strong>: If you can't guarantee the order of the frames, you can add a "frame ID" to each frame, which will allow the consumer to reorder the frames before processing them. This strategy is useful in high-throughput scenarios, where you can't guarantee the order of the frames. You will need to modify the consumer to reorder the frames before processing them. However, handling failures in this scenario may be complicated.</li>
<li><strong>Use partitions that are guaranteed to be in-order</strong>: If you can't guarantee the order of the frames, you can use partitions that are guaranteed to be in-order (e.g., Kafka partitions). Then, each partition should have its own set of lookups (essentially treating each partition as a separate stream in Jelly's terms). This strategy is useful in high-throughput scenarios.</li>
</ul>
<p>Note that Jelly by default also assumes that frames are delivered at least once. At-least-once delivery is good enough (as long as the order is kept), as lookup updates are idempotent – you may only need to de-duplicate the frames afterwards. At-most-once delivery requires you to make the frames independent of each other, such as with the IoT strategy above.</p>
<h2 id="delimited-vs-non-delimited-jelly">Delimited vs. non-delimited Jelly</h2>
<p>Protobuf messages by default <a href="https://protobuf.dev/programming-guides/techniques/#streaming">are not delimited</a>. This means that when you serialize a Protobuf message (e.g., a Jelly stream frame), the serialization does not include any information about where the message ends. This is fine when there is something else telling the parser where the message ends – for example, when you're sending the message over a gRPC, Kafka, or MQTT stream, the streaming protocol tells the parser how long the message is. However, if you wanted to write multiple stream frames to a file, you would need to add some kind of delimiter between the frames – otherwise the parser would not know where one frame ends and the next one begins.</p>
<p>So, to summarize:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Use case</th>
<th style="text-align: left;">Jelly variant</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Jelly gRPC streaming protocol</td>
<td style="text-align: left;">Non-delimited</td>
<td style="text-align: left;">The gRPC protocol tells the parser how long the message is.</td>
</tr>
<tr>
<td style="text-align: left;">Streaming with Kafka, MQTT, or similar</td>
<td style="text-align: left;">Non-delimited</td>
<td style="text-align: left;">The streaming protocol tells the parser how long the message is.</td>
</tr>
<tr>
<td style="text-align: left;">Writing to a file</td>
<td style="text-align: left;">Delimited</td>
<td style="text-align: left;">You need to add a delimiter between the frames.</td>
</tr>
<tr>
<td style="text-align: left;">Writing to a raw network socket</td>
<td style="text-align: left;">Delimited</td>
<td style="text-align: left;">You need to add a delimiter between the frames.</td>
</tr>
</tbody>
</table>
<p>The delimited variant works by adding an integer before the stream frame that specifies the length of the frame, in bytes. That's it.</p>
<p>You can read more about how this works in the <a href="../specification/serialization/#delimited-variant-of-jelly">serialization format specification</a>.</p>
<h3 id="examples">Examples</h3>
<ul>
<li><a href="https://w3id.org/jelly/jelly-jvm/dev/">Jelly-JVM</a> supports both variants, but uses them in different contexts. When writing to a Java byte stream (typically a file) with Apache Jena RIOT or RDF4J Rio, the delimited variant is used. In the gRPC protocol, the non-delimited variant is used.</li>
<li><a href="http://w3id.org/riverbench">RiverBench</a> publishes its RDF metadata and datasets as Jelly files. These files are always written using the delimited variant.</li>
</ul>
<h2 id="implementing-jelly">Implementing Jelly</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is intended only for those who want to write a new Jelly implementation from scratch. It's much easier to use an existing implementation, such as the <a href="https://w3id.org/jelly/jelly-jvm/dev/">JVM (Scala) implementation</a>.</p>
</div>
<p>Implementing Jelly from scratch is greatly simplified by the existing Protobuf and RDF libraries. Essentially, the only thing you'll need to do is to glue them together:</p>
<ul>
<li>Find a Protobuf library for your language. You can find a list of official Protobuf implementations <a href="https://protobuf.dev/reference/">here</a> and a list of community-maintained implementations <a href="https://github.com/protocolbuffers/protobuf/blob/main/docs/third_party.md">here</a>.</li>
<li>Use the library to generate the code for the Jelly messages (this usually involves using <code>protoc</code>). You can find the Protobuf definitions in the <a href="https://github.com/Jelly-RDF/jelly-protobuf">jelly-protobuf</a> repository.</li>
<li>Find an RDF library for your language. You can find a list of RDF libraries <a href="https://github.com/semantalytics/awesome-semantic-web#programming">here</a>.</li>
<li>Implement conversions to and/or from the RDF library's data structures. You can find an example of the conversion code in the <a href="https://github.com/Jelly-RDF/jelly-jvm">Jelly-JVM (Scala) implementation</a> (<code>core</code>, <code>jena</code>, and <code>rdf4j</code> modules).</li>
<li>In the implementation follow the <a href="../specification/">specification</a> to ensure compatibility.</li>
</ul>
<p>That's it! You may also want to implement streaming facilities, such as <a href="https://www.reactive-streams.org/">Reactive Streams</a> in Java/Scala. Implementing the <a href="../specification/streaming/">gRPC publish/subscribe mechanism</a> follows a very similar procedure – many Protobuf libraries have built-in support for gRPC with code generation.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="https://w3id.org/jelly/jelly-jvm/dev/getting-started-devs">Jelly-JVM getting started guide</a></li>
<li><a href="../use-cases/">Applications using Jelly</a></li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 12, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 10, 2023</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
        <a href="https://creativecommons.org/licenses/by/4.0/">
        <span style="font-size: 1.1em;">
        <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m245.83 214.87-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86zm143.05 0-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82z"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3 3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7 3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256 0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8 103.2 0 202.8-81.1 202.8-202.8.1-113.8-90.2-203.3-202.8-203.3z"></path></svg></span>
        </span>Creative Commons Attribution 4.0</a><br />Jelly's documentation is licensed under CC BY 4.0. The code is licensed under Apache 2.0. See also: <strong><a href="/latest/licensing">licensing</a></strong>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Jelly-RDF" target="_blank" rel="noopener" title="Jelly on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.top", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>